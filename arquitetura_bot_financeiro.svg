<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="720pt" height="129pt"
 viewBox="0.00 0.00 720.00 128.93" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.45 0.45) rotate(0) translate(4 281.25)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-281.25 1589,-281.25 1589,4 -4,4"/>
<!-- whatsapp -->
<g id="node1" class="node">
<title>whatsapp</title>
<path fill="#2d3748" stroke="#2d3748" d="M108,-185.62C108,-185.62 12,-185.62 12,-185.62 6,-185.62 0,-179.62 0,-173.62 0,-173.62 0,-161.62 0,-161.62 0,-155.62 6,-149.62 12,-149.62 12,-149.62 108,-149.62 108,-149.62 114,-149.62 120,-155.62 120,-161.62 120,-161.62 120,-173.62 120,-173.62 120,-179.62 114,-185.62 108,-185.62"/>
<text text-anchor="middle" x="60" y="-165.12" font-family="Times,serif" font-size="10.00" fill="white">WhatsApp (Usuário)</text>
</g>
<!-- evolution -->
<g id="node2" class="node">
<title>evolution</title>
<path fill="#2d3748" stroke="#2d3748" d="M404,-185.62C404,-185.62 324,-185.62 324,-185.62 318,-185.62 312,-179.62 312,-173.62 312,-173.62 312,-161.62 312,-161.62 312,-155.62 318,-149.62 324,-149.62 324,-149.62 404,-149.62 404,-149.62 410,-149.62 416,-155.62 416,-161.62 416,-161.62 416,-173.62 416,-173.62 416,-179.62 410,-185.62 404,-185.62"/>
<text text-anchor="middle" x="364" y="-170.62" font-family="Times,serif" font-size="10.00" fill="white">Evolution API</text>
<text text-anchor="middle" x="364" y="-159.62" font-family="Times,serif" font-size="10.00" fill="white">(Webhook/Envio)</text>
</g>
<!-- whatsapp&#45;&gt;evolution -->
<g id="edge1" class="edge">
<title>whatsapp&#45;&gt;evolution</title>
<path fill="none" stroke="black" d="M120.31,-167.62C172.64,-167.62 248.64,-167.62 301.6,-167.62"/>
<polygon fill="black" stroke="black" points="301.87,-171.13 311.87,-167.62 301.87,-164.13 301.87,-171.13"/>
<text text-anchor="middle" x="216" y="-171.43" font-family="Times,serif" font-size="14.00">Mensagem WhatsApp</text>
</g>
<!-- evolution&#45;&gt;whatsapp -->
<g id="edge12" class="edge">
<title>evolution&#45;&gt;whatsapp</title>
<path fill="none" stroke="black" d="M311.7,-151.88C305.78,-150.54 299.79,-149.41 294,-148.62 225.29,-139.34 206.83,-140.26 138,-148.62 135.34,-148.95 132.63,-149.33 129.91,-149.77"/>
<polygon fill="black" stroke="black" points="129.23,-146.33 120.01,-151.54 130.47,-153.22 129.23,-146.33"/>
<text text-anchor="middle" x="216" y="-152.43" font-family="Times,serif" font-size="14.00">Mensagem entregue</text>
</g>
<!-- nodejs -->
<g id="node3" class="node">
<title>nodejs</title>
<path fill="#2d3748" stroke="#2d3748" d="M763,-185.62C763,-185.62 618,-185.62 618,-185.62 612,-185.62 606,-179.62 606,-173.62 606,-173.62 606,-161.62 606,-161.62 606,-155.62 612,-149.62 618,-149.62 618,-149.62 763,-149.62 763,-149.62 769,-149.62 775,-155.62 775,-161.62 775,-161.62 775,-173.62 775,-173.62 775,-179.62 769,-185.62 763,-185.62"/>
<text text-anchor="middle" x="690.5" y="-170.62" font-family="Times,serif" font-size="10.00" fill="white">Servidor Node.js + Express</text>
<text text-anchor="middle" x="690.5" y="-159.62" font-family="Times,serif" font-size="10.00" fill="white">Controllers / Services / Routes</text>
</g>
<!-- evolution&#45;&gt;nodejs -->
<g id="edge2" class="edge">
<title>evolution&#45;&gt;nodejs</title>
<path fill="none" stroke="black" d="M416.06,-167.62C464.15,-167.62 537.34,-167.62 595.9,-167.62"/>
<polygon fill="black" stroke="black" points="595.91,-171.13 605.91,-167.62 595.91,-164.13 595.91,-171.13"/>
<text text-anchor="middle" x="511" y="-171.43" font-family="Times,serif" font-size="14.00">Webhook HTTP POST</text>
</g>
<!-- nodejs&#45;&gt;evolution -->
<g id="edge11" class="edge">
<title>nodejs&#45;&gt;evolution</title>
<path fill="none" stroke="black" d="M605.76,-150.7C599.77,-149.87 593.8,-149.16 588,-148.62 519.85,-142.3 501.83,-139.46 434,-148.62 431.47,-148.97 428.9,-149.38 426.31,-149.84"/>
<polygon fill="black" stroke="black" points="425.41,-146.45 416.3,-151.88 426.8,-153.31 425.41,-146.45"/>
<text text-anchor="middle" x="511" y="-152.43" font-family="Times,serif" font-size="14.00">Resposta pronta</text>
</g>
<!-- router -->
<g id="node4" class="node">
<title>router</title>
<path fill="#2d3748" stroke="#2d3748" d="M1060,-185.62C1060,-185.62 947,-185.62 947,-185.62 941,-185.62 935,-179.62 935,-173.62 935,-173.62 935,-161.62 935,-161.62 935,-155.62 941,-149.62 947,-149.62 947,-149.62 1060,-149.62 1060,-149.62 1066,-149.62 1072,-155.62 1072,-161.62 1072,-161.62 1072,-173.62 1072,-173.62 1072,-179.62 1066,-185.62 1060,-185.62"/>
<text text-anchor="middle" x="1003.5" y="-170.62" font-family="Times,serif" font-size="10.00" fill="white">Roteador de Fluxo</text>
<text text-anchor="middle" x="1003.5" y="-159.62" font-family="Times,serif" font-size="10.00" fill="white">(Menu, Regras, Estado)</text>
</g>
<!-- nodejs&#45;&gt;router -->
<g id="edge3" class="edge">
<title>nodejs&#45;&gt;router</title>
<path fill="none" stroke="black" d="M775.25,-167.62C821.75,-167.62 879.21,-167.62 924.72,-167.62"/>
<polygon fill="black" stroke="black" points="924.83,-171.13 934.83,-167.62 924.83,-164.13 924.83,-171.13"/>
<text text-anchor="middle" x="855" y="-171.43" font-family="Times,serif" font-size="14.00">Processa entrada</text>
</g>
<!-- ollama -->
<g id="node5" class="node">
<title>ollama</title>
<path fill="#2d3748" stroke="#2d3748" d="M1381,-213.62C1381,-213.62 1277,-213.62 1277,-213.62 1271,-213.62 1265,-207.62 1265,-201.62 1265,-201.62 1265,-189.62 1265,-189.62 1265,-183.62 1271,-177.62 1277,-177.62 1277,-177.62 1381,-177.62 1381,-177.62 1387,-177.62 1393,-183.62 1393,-189.62 1393,-189.62 1393,-201.62 1393,-201.62 1393,-207.62 1387,-213.62 1381,-213.62"/>
<text text-anchor="middle" x="1329" y="-198.62" font-family="Times,serif" font-size="10.00" fill="white">Ollama Local</text>
<text text-anchor="middle" x="1329" y="-187.62" font-family="Times,serif" font-size="10.00" fill="white">(Modelo LLaMA 3 8B)</text>
</g>
<!-- router&#45;&gt;ollama -->
<g id="edge4" class="edge">
<title>router&#45;&gt;ollama</title>
<path fill="none" stroke="black" d="M1072.32,-173.49C1125.78,-178.12 1200.18,-184.56 1254.95,-189.3"/>
<polygon fill="black" stroke="black" points="1254.68,-192.79 1264.94,-190.17 1255.28,-185.82 1254.68,-192.79"/>
<text text-anchor="middle" x="1168.5" y="-191.43" font-family="Times,serif" font-size="14.00">Consulta IA local</text>
</g>
<!-- supabase -->
<g id="node6" class="node">
<title>supabase</title>
<path fill="#2b6cb0" stroke="#2b6cb0" d="M1371,-155.6C1371,-157.68 1352.17,-159.38 1329,-159.38 1305.83,-159.38 1287,-157.68 1287,-155.6 1287,-155.6 1287,-121.65 1287,-121.65 1287,-119.57 1305.83,-117.87 1329,-117.87 1352.17,-117.87 1371,-119.57 1371,-121.65 1371,-121.65 1371,-155.6 1371,-155.6"/>
<path fill="none" stroke="#2b6cb0" d="M1371,-155.6C1371,-153.52 1352.17,-151.83 1329,-151.83 1305.83,-151.83 1287,-153.52 1287,-155.6"/>
<text text-anchor="middle" x="1329" y="-141.62" font-family="Times,serif" font-size="10.00" fill="white">Supabase</text>
<text text-anchor="middle" x="1329" y="-130.62" font-family="Times,serif" font-size="10.00" fill="white">(PostgreSQL)</text>
</g>
<!-- router&#45;&gt;supabase -->
<g id="edge5" class="edge">
<title>router&#45;&gt;supabase</title>
<path fill="none" stroke="black" d="M1072.12,-157.7C1078.16,-156.95 1084.19,-156.24 1090,-155.62 1154.09,-148.85 1228.19,-144.03 1276.46,-141.29"/>
<polygon fill="black" stroke="black" points="1276.86,-144.77 1286.65,-140.72 1276.47,-137.78 1276.86,-144.77"/>
<text text-anchor="middle" x="1168.5" y="-159.43" font-family="Times,serif" font-size="14.00">Consulta/Grava dados</text>
</g>
<!-- usuarios_bot -->
<g id="node7" class="node">
<title>usuarios_bot</title>
<path fill="#2b6cb0" stroke="#2b6cb0" d="M1560,-273.6C1560,-275.68 1536.47,-277.38 1507.5,-277.38 1478.53,-277.38 1455,-275.68 1455,-273.6 1455,-273.6 1455,-239.65 1455,-239.65 1455,-237.57 1478.53,-235.87 1507.5,-235.87 1536.47,-235.87 1560,-237.57 1560,-239.65 1560,-239.65 1560,-273.6 1560,-273.6"/>
<path fill="none" stroke="#2b6cb0" d="M1560,-273.6C1560,-271.52 1536.47,-269.83 1507.5,-269.83 1478.53,-269.83 1455,-271.52 1455,-273.6"/>
<text text-anchor="middle" x="1507.5" y="-259.62" font-family="Times,serif" font-size="10.00" fill="white">usuarios_bot</text>
<text text-anchor="middle" x="1507.5" y="-248.62" font-family="Times,serif" font-size="10.00" fill="white">(Usuários do Bot)</text>
</g>
<!-- supabase&#45;&gt;usuarios_bot -->
<g id="edge6" class="edge">
<title>supabase&#45;&gt;usuarios_bot</title>
<path fill="none" stroke="black" d="M1371.09,-154.02C1378.87,-158.05 1386.58,-162.9 1393,-168.62 1416.12,-189.21 1406.06,-208.01 1430,-227.62 1434.64,-231.43 1439.84,-234.77 1445.28,-237.7"/>
<polygon fill="black" stroke="black" points="1444.09,-241.01 1454.61,-242.23 1447.15,-234.71 1444.09,-241.01"/>
</g>
<!-- sessoes_conversa -->
<g id="node8" class="node">
<title>sessoes_conversa</title>
<path fill="#2b6cb0" stroke="#2b6cb0" d="M1570.5,-214.6C1570.5,-216.68 1542.26,-218.38 1507.5,-218.38 1472.74,-218.38 1444.5,-216.68 1444.5,-214.6 1444.5,-214.6 1444.5,-180.65 1444.5,-180.65 1444.5,-178.57 1472.74,-176.87 1507.5,-176.87 1542.26,-176.87 1570.5,-178.57 1570.5,-180.65 1570.5,-180.65 1570.5,-214.6 1570.5,-214.6"/>
<path fill="none" stroke="#2b6cb0" d="M1570.5,-214.6C1570.5,-212.52 1542.26,-210.83 1507.5,-210.83 1472.74,-210.83 1444.5,-212.52 1444.5,-214.6"/>
<text text-anchor="middle" x="1507.5" y="-200.62" font-family="Times,serif" font-size="10.00" fill="white">sessoes_conversa</text>
<text text-anchor="middle" x="1507.5" y="-189.62" font-family="Times,serif" font-size="10.00" fill="white">(Estado da Conversa)</text>
</g>
<!-- supabase&#45;&gt;sessoes_conversa -->
<g id="edge7" class="edge">
<title>supabase&#45;&gt;sessoes_conversa</title>
<path fill="none" stroke="black" d="M1371.38,-152.46C1391.53,-159.19 1416.27,-167.46 1439.05,-175.08"/>
<polygon fill="black" stroke="black" points="1438.08,-178.44 1448.67,-178.3 1440.3,-171.81 1438.08,-178.44"/>
</g>
<!-- transacoes -->
<g id="node9" class="node">
<title>transacoes</title>
<path fill="#2b6cb0" stroke="#2b6cb0" d="M1564,-155.6C1564,-157.68 1538.68,-159.38 1507.5,-159.38 1476.32,-159.38 1451,-157.68 1451,-155.6 1451,-155.6 1451,-121.65 1451,-121.65 1451,-119.57 1476.32,-117.87 1507.5,-117.87 1538.68,-117.87 1564,-119.57 1564,-121.65 1564,-121.65 1564,-155.6 1564,-155.6"/>
<path fill="none" stroke="#2b6cb0" d="M1564,-155.6C1564,-153.52 1538.68,-151.83 1507.5,-151.83 1476.32,-151.83 1451,-153.52 1451,-155.6"/>
<text text-anchor="middle" x="1507.5" y="-141.62" font-family="Times,serif" font-size="10.00" fill="white">transacoes</text>
<text text-anchor="middle" x="1507.5" y="-130.62" font-family="Times,serif" font-size="10.00" fill="white">(Gastos e Receitas)</text>
</g>
<!-- supabase&#45;&gt;transacoes -->
<g id="edge8" class="edge">
<title>supabase&#45;&gt;transacoes</title>
<path fill="none" stroke="black" d="M1371.38,-138.62C1391.97,-138.62 1417.36,-138.62 1440.55,-138.62"/>
<polygon fill="black" stroke="black" points="1440.68,-142.13 1450.68,-138.62 1440.68,-135.13 1440.68,-142.13"/>
</g>
<!-- categorias -->
<g id="node10" class="node">
<title>categorias</title>
<path fill="#2b6cb0" stroke="#2b6cb0" d="M1585,-96.6C1585,-98.68 1550.26,-100.38 1507.5,-100.38 1464.74,-100.38 1430,-98.68 1430,-96.6 1430,-96.6 1430,-62.65 1430,-62.65 1430,-60.57 1464.74,-58.87 1507.5,-58.87 1550.26,-58.87 1585,-60.57 1585,-62.65 1585,-62.65 1585,-96.6 1585,-96.6"/>
<path fill="none" stroke="#2b6cb0" d="M1585,-96.6C1585,-94.52 1550.26,-92.83 1507.5,-92.83 1464.74,-92.83 1430,-94.52 1430,-96.6"/>
<text text-anchor="middle" x="1507.5" y="-82.62" font-family="Times,serif" font-size="10.00" fill="white">categorias</text>
<text text-anchor="middle" x="1507.5" y="-71.62" font-family="Times,serif" font-size="10.00" fill="white">(Categorias de Transações)</text>
</g>
<!-- supabase&#45;&gt;categorias -->
<g id="edge9" class="edge">
<title>supabase&#45;&gt;categorias</title>
<path fill="none" stroke="black" d="M1371.38,-124.79C1391,-118.24 1414.96,-110.22 1437.24,-102.78"/>
<polygon fill="black" stroke="black" points="1438.62,-106.01 1446.99,-99.52 1436.4,-99.37 1438.62,-106.01"/>
</g>
<!-- logs_interacao -->
<g id="node11" class="node">
<title>logs_interacao</title>
<path fill="#2b6cb0" stroke="#2b6cb0" d="M1581.5,-37.6C1581.5,-39.68 1548.33,-41.38 1507.5,-41.38 1466.67,-41.38 1433.5,-39.68 1433.5,-37.6 1433.5,-37.6 1433.5,-3.65 1433.5,-3.65 1433.5,-1.57 1466.67,0.13 1507.5,0.13 1548.33,0.13 1581.5,-1.57 1581.5,-3.65 1581.5,-3.65 1581.5,-37.6 1581.5,-37.6"/>
<path fill="none" stroke="#2b6cb0" d="M1581.5,-37.6C1581.5,-35.52 1548.33,-33.83 1507.5,-33.83 1466.67,-33.83 1433.5,-35.52 1433.5,-37.6"/>
<text text-anchor="middle" x="1507.5" y="-23.62" font-family="Times,serif" font-size="10.00" fill="white">logs_interacao</text>
<text text-anchor="middle" x="1507.5" y="-12.62" font-family="Times,serif" font-size="10.00" fill="white">(Histórico de Mensagens)</text>
</g>
<!-- supabase&#45;&gt;logs_interacao -->
<g id="edge10" class="edge">
<title>supabase&#45;&gt;logs_interacao</title>
<path fill="none" stroke="black" d="M1348.94,-117.85C1367.86,-98.1 1398.6,-68.66 1430,-49.62 1432.65,-48.02 1435.4,-46.48 1438.22,-45"/>
<polygon fill="black" stroke="black" points="1439.96,-48.04 1447.4,-40.5 1436.88,-41.76 1439.96,-48.04"/>
</g>
</g>
</svg>
